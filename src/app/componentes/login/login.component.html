<h1>Inicia sesi√≥n</h1>

<div class="contenedor-login">
  <div class="formulario-login">
    <form [formGroup]="formularioLogin" (ngSubmit)="login()">
      <!-- Email -->
      <input type="text" formControlName="mail" placeholder="Email" />
      <div *ngIf="formularioLogin.get('mail')?.invalid && formularioLogin.get('mail')?.touched">
        <small *ngIf="formularioLogin.get('mail')?.errors?.['required']">‚ö† Debes ingresar un email.</small>
        <small *ngIf="formularioLogin.get('mail')?.errors?.['email']">‚ö† El formato del email es incorrecto.</small>
      </div>

      <!-- Contrase√±a -->
      <input type="password" formControlName="password" placeholder="Password" />
      <div *ngIf="formularioLogin.get('password')?.invalid && formularioLogin.get('password')?.touched">
        <small *ngIf="formularioLogin.get('password')?.errors?.['required']">‚ö† Debes ingresar una contrase√±a.</small>
        <small *ngIf="formularioLogin.get('password')?.errors?.['minlength']">‚ö† La contrase√±a debe tener al menos 6 caracteres.</small>
      </div>

      <!-- Bot√≥n + Spinner -->
      <button class="btn btn-success" type="submit" [disabled]="formularioLogin.invalid || isLoading">
        <ng-container *ngIf="!isLoading">Iniciar sesi√≥n</ng-container>
        <ng-container *ngIf="isLoading">
          <div class="spinner-btn"></div> Iniciando...
        </ng-container>
      </button>

      <!-- Accesos r√°pidos -->
      <button class="btn btn-link" type="button" (click)="quickAccessPaciente()">Acceso r√°pido paciente</button>
      <button class="btn btn-link" type="button" (click)="quickAccessEspecialista()">Acceso r√°pido especialista</button>
      <button class="btn btn-link" type="button" (click)="quickAccessAdmin()">Acceso r√°pido admin</button>
    </form>

    <!-- Error -->
    <div class="error-msg">{{ errorMessage }}</div>
  </div>
</div>

<!-- üîπ Overlay que bloquea la p√°gina mientras `isLoading` est√° activo -->
<div *ngIf="isLoading" class="overlay">
  <div class="spinner"></div>
  <p>Procesando...</p>
</div>